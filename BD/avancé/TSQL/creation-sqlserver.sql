DROP TABLE NOTES_ramet;
DROP TABLE ETUDIANTS_ramet;
DROP TABLE MATIERES_ramet;
DROP TABLE ETUD_OLD_ramet;

CREATE TABLE ETUDIANTS_ramet (
	NUM_ETU INTEGER PRIMARY KEY,
	NOM_ETU VARCHAR(20),
	PRENOM_ETU VARCHAR(20),
	ANNEE_ETU INTEGER
);

CREATE TABLE MATIERES_ramet (
	CODE_MAT CHAR(5) PRIMARY KEY,
	NOM_MAT VARCHAR(20),
	COEFF_MAT INTEGER
);

CREATE TABLE NOTES_ramet (
	CODE_MAT CHAR(5),
	NUM_ETU INTEGER,
	NOTE INTEGER,
	CONSTRAINT PK_NOTES_ramet PRIMARY KEY (CODE_MAT, NUM_ETU),
	CONSTRAINT FK_MAT_ramet FOREIGN KEY (CODE_MAT) REFERENCES MATIERES_ramet(CODE_MAT),
	CONSTRAINT FK_ETU_ramet FOREIGN KEY (NUM_ETU) REFERENCES ETUDIANTS_ramet(NUM_ETU)
);


INSERT INTO ETUDIANTS_ramet VALUES (1,'DURAND','LIONEL',1);
INSERT INTO ETUDIANTS_ramet VALUES (2,'BROUARD','DAVID',1);
INSERT INTO ETUDIANTS_ramet VALUES (3,'CHANAY','DENIS',2);
INSERT INTO ETUDIANTS_ramet VALUES (4,'VERA','MIKE',1);

INSERT INTO MATIERES_ramet VALUES ('I_307','SGBDRO',2);
INSERT INTO MATIERES_ramet VALUES ('R_202','Reseaux',1);
INSERT INTO MATIERES_ramet VALUES ('I_103','Java',3);


INSERT INTO NOTES_ramet VALUES ('I_103',1,5);
INSERT INTO NOTES_ramet VALUES ('I_103',2,15);
INSERT INTO NOTES_ramet VALUES ('I_103',4, 7);

INSERT INTO NOTES_ramet VALUES ('R_202',1,8);
INSERT INTO NOTES_ramet VALUES ('R_202',2,13);
INSERT INTO NOTES_ramet VALUES ('R_202',4,11);

INSERT INTO NOTES_ramet VALUES ('I_307',1,5);
INSERT INTO NOTES_ramet VALUES ('I_307',2,14);
INSERT INTO NOTES_ramet VALUES ('I_307',4,11);


CREATE TABLE ETUD_OLD_ramet (
	NUM_OLD INTEGER PRIMARY KEY,
	NOM_OLD VARCHAR(20),
	PRENOM_OLD VARCHAR(20),
	DATE_SORTIE DATE
);


